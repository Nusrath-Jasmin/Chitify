"use strict";(self.webpackChunkchitify=self.webpackChunkchitify||[]).push([[940],{1940:(dt,w,d)=>{d.r(w),d.d(w,{AuthenticationModule:()=>at});var m=d(6814),c=d(9862),i=d(95),u=d(9310),t=d(9291);let f=(()=>{class o{constructor(n){this.http=n,this.apiUrl="http://localhost:3000"}createUser(n){const e=`${this.apiUrl}/signup`,s=new c.WM({"Content-Type":"application/json"});return this.http.post(e,n,{headers:s})}verifyOtp(n){const e=`${this.apiUrl}/verifyOtp`,s=new c.WM({"Content-Type":"application/json"});return this.http.post(e,n,{headers:s})}loginUser(n){const e=`${this.apiUrl}/login`,s=new c.WM({"Content-Type":"application/json"});return this.http.post(e,n,{headers:s})}forgotPassword(n){const e=`${this.apiUrl}/forgotPassword`,s=new c.WM({"Content-Type":"application/json"});return this.http.post(e,n,{headers:s})}VerifyUser(n){const e=`${this.apiUrl}/verify-user`,s=new c.WM({"Content-Type":"application/json"});return this.http.post(e,n,{headers:s})}UpdatePassword(n){const e=`${this.apiUrl}/update-password`,s=new c.WM({"Content-Type":"application/json"});return this.http.post(e,n,{headers:s})}static#t=this.\u0275fac=function(e){return new(e||o)(t.LFG(c.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var x=d(5619);let g=(()=>{class o{constructor(){this.formDataSubject=new x.X(null),this.phoneObject=new x.X(null),this.formData$=this.formDataSubject.asObservable(),this.phone$=this.phoneObject.asObservable()}setFormData(n){this.formDataSubject.next(n)}setData(n){this.phoneObject.next(n)}static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();var h=d(8782);let b=(()=>{class o{constructor(){this.message="",this.closed=new t.vpe}closeAlert(){this.closed.emit()}static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{closed:"closed"},decls:5,vars:1,consts:[[1,"alert"],[1,"close",3,"click"],[1,"message"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return s.closeAlert()}),t._uU(2,"\xd7"),t.qZA(),t.TgZ(3,"div",2),t._uU(4),t.qZA()()),2&e&&(t.xp6(4),t.Oqu(s.message))},styles:[".alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;background-color:#f8d7da;color:#721c24;padding:10px 40px 10px 15px;border:1px solid #f5c6cb;border-radius:4px;display:flex;align-items:center;max-width:300px}.close[_ngcontent-%COMP%]{position:absolute;top:5px;right:15px;cursor:pointer;font-size:20px;color:#721c24}.message[_ngcontent-%COMP%]{flex-grow:1;text-align:center}"]})}return o})();function Z(o,l){if(1&o&&t._UZ(0,"app-alert",20),2&o){const n=t.oxw();t.Q6J("message",n.passwordError)}}function T(o,l){if(1&o&&t._UZ(0,"app-alert",20),2&o){const n=t.oxw();t.Q6J("message",n.passwordMatchError)}}function C(o,l){1&o&&t._UZ(0,"app-spinner")}function A(o,l){if(1&o&&t._UZ(0,"app-alert",20),2&o){const n=t.oxw();t.Q6J("message",null==n.response?null:n.response.message)}}let F=(()=>{class o{constructor(n,e,s){this.apiCallService=n,this.router=e,this.signupdata=s,this.isLoading=!1,this.passwordError="Password must be 8 characters and include uppercase & lowerase letters,number & a special character.",this.passwordMatchError="Passwords does not match"}checkPasswordMatch(){}onSubmit(n){console.log(n.value),this.form=n.value,this.isLoading=!0,this.apiCallService.createUser(n.value).subscribe({next:e=>{this.isLoading=!1,console.log("User registered successfully",e),this.response=e,e.otpsend?(this.signupdata.setFormData(this.form),this.router.navigate(["/otp"])):this.router.navigate(["/signup"])},error:e=>{console.error("Error during registration",e)}})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(u.F0),t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-signup"]],decls:27,vars:6,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"w-full","h-full","md:w-2/3","md:h-3/4","md:shadow-xl","md:shadow-black","md:border-black","md:flex","space-y-10","md:space-y-0"],[1,"w-full","h-10","md:w-1/3","md:h-full","bg-white","flex","flex-col","items-center"],["src","../../../assets/images/chitify-high-resolution-logo-black-transparent.svg","alt","",1,"w-20","md:w-36","md:p-5"],[1,"md:flex","md:items-center","md:justify-evenly","md:flex-col","md:mt-28","mt-0","h-1/4"],[1,"text-3xl","font-extrabold","text-blue-950"],[1,"w-full","h-full","md:w-2/3","md:h-full","flex","items-center","justify-center"],[1,"flex","flex-col","justify-around","items-center","w-full","h-3/4","space-y-4",3,"ngSubmit"],["signupForm","ngForm"],["type","text","id","firstName","name","firstName","placeholder","First Name","ngModel","","required","",1,"p-3","w-3/4","shadow-lg","shadow-blue-900"],["type","text","id","lastName","name","lastName","placeholder","Last Name","ngModel","","required","",1,"p-3","w-3/4","shadow-lg","shadow-blue-900"],["type","email","id","email","name","email","placeholder","E-mail","ngModel","","required","",1,"p-3","w-3/4","shadow-lg","shadow-blue-900"],["type","password","id","password","name","password","placeholder","Password","ngModel","","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",1,"p-3","w-3/4","shadow-lg","shadow-blue-900"],[3,"message",4,"ngIf"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm Passsword","ngModel","","required","",1,"p-3","w-3/4","shadow-lg","shadow-blue-900",3,"blur"],["type","tel","id","phone","name","phone","placeholder","Phone","ngModel","","required","",1,"p-3","w-3/4","shadow-lg","shadow-blue-900"],["type","submit",1,"p-3","w-3/4","bg-blue-300","text-blue-950","font-bold","shadow-md","shadow-black","cursor-pointer",3,"disabled"],[4,"ngIf"],[1,"text-blue-950","mt-4"],[1,"underline","mt-96",3,"routerLink"],[3,"message"]],template:function(e,s){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"div",4)(5,"h2",5),t._uU(6,"Signup"),t.qZA()()(),t.TgZ(7,"div",6)(8,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(r);const p=t.MAs(9);return t.KtG(s.onSubmit(p))}),t._UZ(10,"input",9)(11,"input",10)(12,"input",11)(13,"input",12),t.YNc(14,Z,1,1,"app-alert",13),t.TgZ(15,"input",14),t.NdJ("blur",function(){return s.checkPasswordMatch()}),t.qZA(),t.YNc(16,T,1,1,"app-alert",13),t._UZ(17,"input",15),t.TgZ(18,"button",16),t._uU(19," Submit "),t.qZA(),t.YNc(20,C,1,0,"app-spinner",17),t.TgZ(21,"p",18),t._uU(22," Already have an account?"),t.TgZ(23,"a",19),t._uU(24,"Login"),t.qZA(),t._uU(25," Here "),t.qZA(),t.YNc(26,A,1,1,"app-alert",13),t.qZA()()()()}if(2&e){const r=t.MAs(9);t.xp6(14),t.Q6J("ngIf",(null==r.controls.password?null:r.controls.password.invalid)&&(r.controls.password.dirty||r.controls.password.touched)),t.xp6(2),t.Q6J("ngIf",(null==r.controls.confirmPassword?null:r.controls.confirmPassword.value)!=(null==r.controls.password?null:r.controls.password.value)&&r.controls.confirmPassword.touched),t.xp6(2),t.Q6J("disabled",r.invalid),t.xp6(2),t.Q6J("ngIf",s.isLoading),t.xp6(3),t.Q6J("routerLink","/login"),t.xp6(3),t.Q6J("ngIf",null==s.response?null:s.response.exist)}},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.c5,i.On,i.F,u.rH,m.O5,h.O,b],styles:["#formdiv[_ngcontent-%COMP%]{background-color:#050c4a}input[_ngcontent-%COMP%]{background-color:#fff;border:solid 1px;border-color:transparent}input[_ngcontent-%COMP%]:focus{outline:none;border:1px solid black;box-shadow:0 1px 6px #00000080}input[_ngcontent-%COMP%]::placeholder{color:#0007;font-size:medium}"]})}return o})();var v=d(7864);const M=["otp1"],P=["otp2"],O=["otp3"],U=["otp4"],J=["otp5"],N=["otp6"];function q(o,l){1&o&&t._UZ(0,"app-spinner")}function j(o,l){1&o&&(t.TgZ(0,"p",22),t._uU(1,"Incorrect OTP"),t.qZA())}function S(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"app-alert",23),t.NdJ("closed",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.onAlertClosed())}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("message",n.errorMessage)}}function L(o,l){1&o&&t._UZ(0,"app-spinner")}function k(o,l){1&o&&(t.TgZ(0,"div"),t._uU(1," phone is required. "),t.qZA())}function G(o,l){1&o&&(t.TgZ(0,"div"),t._uU(1," Invalid phone format. "),t.qZA())}function Q(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,k,2,0,"div",9),t.YNc(2,G,2,0,"div",9),t.qZA()),2&o){const n=t.oxw();let e,s;t.xp6(1),t.Q6J("ngIf",null==(e=n.forgotPasswordForm.get("phone"))?null:e.hasError("required")),t.xp6(1),t.Q6J("ngIf",null==(s=n.forgotPasswordForm.get("phone"))?null:s.hasError("phone"))}}function H(o,l){1&o&&t._UZ(0,"app-spinner")}const E=["otp1"],R=["otp2"],K=["otp3"],D=["otp4"],z=["otp5"],X=["otp6"];function W(o,l){1&o&&t._UZ(0,"app-spinner")}function B(o,l){1&o&&(t.TgZ(0,"p",21),t._uU(1,"Incorrect OTP"),t.qZA())}function tt(o,l){1&o&&(t.TgZ(0,"small",11),t._uU(1,"Password must be 8 characters and include uppercase & lowerase letters,number & a special character."),t.qZA())}function et(o,l){1&o&&(t.TgZ(0,"small",12),t._uU(1,"Passwords do not match"),t.qZA())}function ot(o,l){1&o&&t._UZ(0,"app-spinner")}function nt(o,l){if(1&o&&(t.TgZ(0,"p",13),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.hij(" ",null==n.response?null:n.response.message," ")}}const st=[{path:"signup",component:F},{path:"otp",component:(()=>{class o{constructor(n,e,s,r){this.apiCall=n,this.signupdata=e,this.authservice=s,this.router=r,this.isLoading=!1}ngOnInit(){this.signupdata.formData$.subscribe(n=>{this.userData=n})}moveToNext(n){n&&0===n.value.length&&n.focus()}onSubmit(n){const{otp1val:e,otp2val:s,otp3val:r,otp4val:a,otp5val:p,otp6val:lt}=n.value,y=e+s+r+a+p+lt;this.isLoading=!0,console.log(y),this.data={...this.userData,otp:y},console.log("data for otp verification",this.data),this.apiCall.verifyOtp(this.data).subscribe(_=>{console.log("response from otp",_),this.isLoading=!1,this.authservice.saveToken(_.token),this.authservice.isAuthenticated()&&(console.log(this.authservice.getUserType()),"user"===this.authservice.getUserType()&&(console.log("navigating"),this.router.navigate(["/user/home"]))),this.otperror=!!_.error})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(g),t.Y36(v.e),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-otp"]],viewQuery:function(e,s){if(1&e&&(t.Gf(M,5),t.Gf(P,5),t.Gf(O,5),t.Gf(U,5),t.Gf(J,5),t.Gf(N,5)),2&e){let r;t.iGM(r=t.CRH())&&(s.otp1=r.first),t.iGM(r=t.CRH())&&(s.otp2=r.first),t.iGM(r=t.CRH())&&(s.otp3=r.first),t.iGM(r=t.CRH())&&(s.otp4=r.first),t.iGM(r=t.CRH())&&(s.otp5=r.first),t.iGM(r=t.CRH())&&(s.otp6=r.first)}},decls:25,vars:2,consts:[[1,"flex","justify-center","items-center","h-screen"],[1,"bg-blue-950","p-6","rounded-lg","shadow-md","flex","items-center","justify-center","flex-col"],[1,"text-white","p-2"],[1,"text-2xl","font-semibold","mb-4","text-blue-200"],[1,"flex","flex-col","items-center","justify-center",3,"ngSubmit"],["Form","ngForm"],[1,"flex","items-center","justify-center","mb-4"],["type","text","ngModel","","name","otp1val","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp1",""],["type","text","ngModel","","name","otp2val","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp2",""],["type","text","ngModel","","name","otp3val","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp3",""],["type","text","ngModel","","name","otp4val","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp4",""],["type","text","ngModel","","name","otp5val","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp5",""],["type","text","ngModel","","name","otp6val","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","w-12","text-center"],["otp6",""],["type","submit",1,"bg-blue-500","hover:bg-blue-600","text-white","font-semibold","py-2","px-4","rounded"],[4,"ngIf"],["class","text-white",4,"ngIf"],[1,"text-white"]],template:function(e,s){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"p",2),t._uU(3,"One time password sent to your phone"),t.qZA(),t.TgZ(4,"h2",3),t._uU(5,"Enter OTP"),t.qZA(),t.TgZ(6,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(r);const p=t.MAs(7);return t.KtG(s.onSubmit(p))}),t.TgZ(8,"div",6)(9,"input",7,8),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(12);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(11,"input",9,10),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(14);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(13,"input",11,12),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(16);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(15,"input",13,14),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(18);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(17,"input",15,16),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(20);return t.KtG(s.moveToNext(p))}),t.qZA(),t._UZ(19,"input",17,18),t.qZA(),t.TgZ(21,"button",19),t._uU(22," Submit "),t.qZA(),t.YNc(23,q,1,0,"app-spinner",20),t.qZA(),t.YNc(24,j,2,0,"p",21),t.qZA()()}2&e&&(t.xp6(23),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",s.otperror))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.nD,i.On,i.F,m.O5,h.O]})}return o})()},{path:"login",component:(()=>{class o{constructor(n,e,s){this.apicall=n,this.authservice=e,this.router=s,this.isLoading=!1,this.errorMessage="Cant login Try Again!"}onSubmit(n){console.log("Form submitted!"),this.isLoading=!0,this.apicall.loginUser(n.value).subscribe({next:e=>{console.log("logined"),this.authservice.saveToken(e.token),this.isLoading=!1,this.authservice.isAuthenticated()&&("user"===this.authservice.getUserType()?this.router.navigate(["/user/home"]):"admin"===this.authservice.getUserType()&&this.router.navigate(["/admin/home"]),console.log(e),this.error=e.error)},error:e=>{console.log(e),this.error=e}})}onAlertClosed(){this.error=!1}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(v.e),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"w-screen","h-screen","bg-white"],["src","../../../assets/images/chitify-high-resolution-logo-black-transparent.svg","alt","",1,"w-24","mx-auto","p-4","md:w-28","md:p-6"],[1,"w-full","h-full","flex","items-end","relative"],[1,"w-full","h-1/2","bg-white","shadow-2xl","shadow-black","flex","items-end","justify-center","relative","rounded-tr-[50%]","rounded-tl-[50%]"],[1,"w-full","h-[90%]","bg-[#6433d8]","shadow-xl","shadow-black","flex","items-end","absolute","rounded-tr-[50%]","rounded-tl-[50%]"],[1,"md:w-3/4","w-[85%]","h-3/4","bg-[#f5f6fb]","md:bg-white","shadow-md","shadow-black","absolute","z-30","top-20","md:top-28","md:mx-auto","md:ml-48","ml-7","flex","flex-col-reverse","md:flex-row"],[1,"w-full","h-1/3","md:w-1/2","md:h-full","bg-[#f5f6fb]","flex","items-center","justify-center"],["src","../../../assets/images/log2.jpg","alt","",1,"w-48","md:w-[60%]"],[1,"w-full","h-2/3","md:w-1/2","md:h-full","flex","flex-col","items-center","justify-evenly","md:justify-around"],[1,"text-[10px]","w-full","flex","justify-end","p-3","md:p-3","md:text-[16px]"],[1,"font-bold",3,"routerLink"],[1,"w-full","flex","justify-start","flex-col","px-10","md:flex-none"],[1,"font-bold","text-lg","md:text-3xl"],[1,"flex","justify-start","px-4","w-full","md:h-2/3","md:justify-start"],[1,"p-4","flex","justify-between","flex-col","md:h-2/3","space-y-5",3,"ngSubmit"],["loginForm","ngForm"],["type","number","id","phone","name","phone","ngModel","","placeholder","Enter your phone number",1,"border","border-gray-300","px-5","py-3","w-64","md:w-96"],["type","password","id","password","name","password","ngModel","","placeholder","Enter your password",1,"border","border-gray-300","px-5","py-3","w-64","md:w-96"],[1,"w-full","flex","justify-between","items-center","md:h-1/3"],["type","submit",1,"bg-[#6534d9]","text-white","px-6","py-1","rounded-2xl","flex","justify-center","items-center"],["href","",1,"text-[12px]",3,"routerLink"],[3,"message","closed",4,"ngIf"],[4,"ngIf"],[3,"message","closed"]],template:function(e,s){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"div",4),t.qZA()(),t.TgZ(5,"div",5)(6,"div",6),t._UZ(7,"img",7),t.qZA(),t.TgZ(8,"div",8)(9,"div",9),t._uU(10,"New User ?"),t.TgZ(11,"a",10),t._uU(12,"Signup"),t.qZA()(),t.TgZ(13,"div",11)(14,"h3",12),t._uU(15,"Welcome Back !"),t.qZA(),t.TgZ(16,"small"),t._uU(17,"Login to continue."),t.qZA()(),t.TgZ(18,"div",13)(19,"form",14,15),t.NdJ("ngSubmit",function(){t.CHM(r);const p=t.MAs(20);return t.KtG(s.onSubmit(p))}),t._UZ(21,"input",16)(22,"input",17),t.TgZ(23,"div",18)(24,"button",19),t._uU(25," LOGIN "),t.qZA(),t.TgZ(26,"a",20),t._uU(27,"Forgot Password?"),t.qZA()(),t.YNc(28,S,1,1,"app-alert",21),t.YNc(29,L,1,0,"app-spinner",22),t.qZA()()()()()}2&e&&(t.xp6(11),t.Q6J("routerLink","/signup"),t.xp6(15),t.Q6J("routerLink","/forgot-password"),t.xp6(2),t.Q6J("ngIf",s.error),t.xp6(1),t.Q6J("ngIf",s.isLoading))},dependencies:[i._Y,i.Fj,i.wV,i.JJ,i.JL,i.On,i.F,u.rH,m.O5,h.O,b],styles:["input[_ngcontent-%COMP%]:hover{border:2px solid #6534d9}"]})}return o})()},{path:"forgot-password",component:(()=>{class o{constructor(n,e,s,r){this.fb=n,this.apicall=e,this.router=s,this.dataservice=r,this.isLoading=!1,this.message=""}ngOnInit(){this.createForm()}createForm(){this.forgotPasswordForm=this.fb.group({phone:["",[i.kI.required,i.kI.pattern(/^\d{10}$/)]]})}onSubmit(){if(this.forgotPasswordForm.valid){this.isLoading=!0;const n=this.forgotPasswordForm.get("phone").value;console.log(n),this.apicall.forgotPassword({phone:n}).subscribe({next:e=>{this.isLoading=!1,console.log(e),this.dataservice.setData(e.phone),e.otpsend?this.router.navigate(["/forgot-Otp"]):this.message=e.message},error:e=>{this.message=e.message,console.log(this.message)}})}}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(f),t.Y36(u.F0),t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-forgot-password"]],decls:16,vars:5,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"w-1/3","h-3/4","rounded-2xl","flex","items-center","justify-evenly","flex-col","shadow-lg","shadow-slate-500"],[1,"h-40","w-52","flex","items-center","flex-col","justify-evenly"],["src","../../../assets/images/chitify-high-resolution-logo-black-transparent.svg","alt","",1,"w-20"],[1,"font-extrabold","text-slate-500","text-xl"],[1,"flex","items-center","flex-col","w-full","h-1/2","gap-10"],[3,"formGroup","ngSubmit"],[1,"flex","items-center","flex-col","space-y-10"],["type","number","id","phone","placeholder","enter your phone number","formControlName","phone",1,"w-72","h-14","rounded-lg","border-[1px]","border-slate-400","shadow-lg","shadow-slate-500"],[4,"ngIf"],["type","submit",1,"bg-purple-700","p-2","rounded-2xl","px-6","text-white","cursor-pointer",3,"disabled"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.TgZ(4,"h2",4),t._uU(5,"Forgot Password !"),t.qZA()(),t.TgZ(6,"div",5)(7,"form",6),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(8,"div",7),t._UZ(9,"input",8),t.YNc(10,Q,3,2,"div",9),t.TgZ(11,"button",10),t._uU(12," Proceed "),t.qZA(),t.YNc(13,H,1,0,"app-spinner",9),t.qZA()(),t.TgZ(14,"p"),t._uU(15),t.qZA()()()()),2&e){let r;t.xp6(7),t.Q6J("formGroup",s.forgotPasswordForm),t.xp6(3),t.Q6J("ngIf",(null==(r=s.forgotPasswordForm.get("phone"))?null:r.errors)&&((null==(r=s.forgotPasswordForm.get("phone"))?null:r.touched)||(null==(r=s.forgotPasswordForm.get("phone"))?null:r.dirty))),t.xp6(1),t.Q6J("disabled",s.forgotPasswordForm.invalid),t.xp6(2),t.Q6J("ngIf",s.isLoading),t.xp6(2),t.Oqu(s.message)}},dependencies:[i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u,m.O5,h.O]})}return o})()},{path:"forgot-Otp",component:(()=>{class o{moveToNext(n){n&&0===n.value.length&&n.focus()}constructor(n,e,s,r){this.fb=n,this.apicall=e,this.router=s,this.dataservice=r,this.isLoading=!1,this.otpError=!1}ngOnInit(){this.createForm()}createForm(){this.forgotPasswordForm=this.fb.group({otp1:["",[i.kI.required,i.kI.pattern(/^\d$/)]],otp2:["",[i.kI.required,i.kI.pattern(/^\d$/)]],otp3:["",[i.kI.required,i.kI.pattern(/^\d$/)]],otp4:["",[i.kI.required,i.kI.pattern(/^\d$/)]],otp5:["",[i.kI.required,i.kI.pattern(/^\d$/)]],otp6:["",[i.kI.required,i.kI.pattern(/^\d$/)]]})}submitOtp(){if(this.forgotPasswordForm.valid){this.isLoading=!0,this.dataservice.phone$.subscribe(e=>this.phone=e);const n=Object.values(this.forgotPasswordForm.value).join("");console.log("OTP:",n),this.apicall.VerifyUser({phone:this.phone,otp:n}).subscribe({next:e=>{this.isLoading=!1,e.otpVerified?this.router.navigate(["/reset-password"]):this.otpError=!0},error:e=>{this.otpError=!0}})}else this.otpError=!0}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(f),t.Y36(u.F0),t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-forgot-otp"]],viewQuery:function(e,s){if(1&e&&(t.Gf(E,5),t.Gf(R,5),t.Gf(K,5),t.Gf(D,5),t.Gf(z,5),t.Gf(X,5)),2&e){let r;t.iGM(r=t.CRH())&&(s.otp1=r.first),t.iGM(r=t.CRH())&&(s.otp2=r.first),t.iGM(r=t.CRH())&&(s.otp3=r.first),t.iGM(r=t.CRH())&&(s.otp4=r.first),t.iGM(r=t.CRH())&&(s.otp5=r.first),t.iGM(r=t.CRH())&&(s.otp6=r.first)}},decls:24,vars:3,consts:[[3,"formGroup"],[1,"flex","justify-center","items-center","h-screen"],[1,"bg-blue-950","p-6","rounded-lg","shadow-md","flex","items-center","justify-center","flex-col"],[1,"text-white","p-2"],[1,"text-2xl","font-semibold","mb-4","text-blue-200"],[1,"flex","items-center","justify-center","mb-4"],["formControlName","otp1","type","text","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp1",""],["formControlName","otp2","type","text","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp2",""],["formControlName","otp3","type","text","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp3",""],["formControlName","otp4","type","text","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp4",""],["formControlName","otp5","type","text","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center",3,"input"],["otp5",""],["formControlName","otp6","type","text","maxlength","1",1,"border","border-gray-300","rounded-md","px-4","py-2","mr-2","w-12","text-center"],["otp6",""],["type","button",1,"bg-blue-500","hover:bg-blue-600","text-white","font-semibold","py-2","px-4","rounded",3,"click"],[4,"ngIf"],["class","text-white",4,"ngIf"],[1,"text-white"]],template:function(e,s){if(1&e){const r=t.EpF();t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4,"One time password sent to your phone"),t.qZA(),t.TgZ(5,"h2",4),t._uU(6,"Enter OTP"),t.qZA(),t.TgZ(7,"div",5)(8,"input",6,7),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(11);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(10,"input",8,9),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(13);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(12,"input",10,11),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(15);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(14,"input",12,13),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(17);return t.KtG(s.moveToNext(p))}),t.qZA(),t.TgZ(16,"input",14,15),t.NdJ("input",function(){t.CHM(r);const p=t.MAs(19);return t.KtG(s.moveToNext(p))}),t.qZA(),t._UZ(18,"input",16,17),t.qZA(),t.TgZ(20,"button",18),t.NdJ("click",function(){return s.submitOtp()}),t._uU(21," Submit "),t.qZA(),t.YNc(22,W,1,0,"app-spinner",19),t.YNc(23,B,2,0,"p",20),t.qZA()()()}2&e&&(t.Q6J("formGroup",s.forgotPasswordForm),t.xp6(22),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",s.otpError))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,m.O5,h.O]})}return o})()},{path:"reset-password",component:(()=>{class o{constructor(n,e,s){this.apiCallService=n,this.router=e,this.dataservice=s,this.isLoading=!1}checkPasswordMatch(){}onSubmit(n){this.isLoading=!0,console.log(n.value),this.form=n.value,this.dataservice.phone$.subscribe(e=>this.phone=e),this.apiCallService.UpdatePassword({phone:this.phone,...n.value}).subscribe({next:e=>{this.isLoading=!1,e.updated?this.router.navigate(["/login"]):this.error=!0},error:e=>{this.error=!0}})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(u.F0),t.Y36(g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-reset-password"]],decls:12,vars:5,consts:[[1,"w-screen","h-screen","flex","items-center","justify-center"],[1,"flex","flex-col","justify-center","space-y-3","items-center","w-1/2","h-3/4","shadow-xl","shadow-slate-400",3,"ngSubmit"],["signupForm","ngForm"],["src","../../../assets/images/chitify-high-resolution-logo-black-transparent.svg","alt","",1,"w-28"],["type","password","id","password","name","password","placeholder","New Password","ngModel","","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$",1,"p-5","w-3/4","shadow-lg","shadow-blue-900"],["class","text-white px-4",4,"ngIf"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm Passsword","ngModel","","required","",1,"p-5","w-3/4","shadow-lg","shadow-blue-900",3,"blur"],["class","text-white",4,"ngIf"],["type","submit",1,"p-3","w-3/4","bg-blue-300","text-blue-950","font-bold","shadow-md","shadow-black","cursor-pointer",3,"disabled"],[4,"ngIf"],["style","color: red",4,"ngIf"],[1,"text-white","px-4"],[1,"text-white"],[2,"color","red"]],template:function(e,s){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(r);const p=t.MAs(2);return t.KtG(s.onSubmit(p))}),t._UZ(3,"img",3)(4,"input",4),t.YNc(5,tt,2,0,"small",5),t.TgZ(6,"input",6),t.NdJ("blur",function(){return s.checkPasswordMatch()}),t.qZA(),t.YNc(7,et,2,0,"small",7),t.TgZ(8,"button",8),t._uU(9," Submit "),t.qZA(),t.YNc(10,ot,1,0,"app-spinner",9),t.qZA(),t.YNc(11,nt,2,1,"p",10),t.qZA()}if(2&e){const r=t.MAs(2);t.xp6(5),t.Q6J("ngIf",(null==r.controls.password?null:r.controls.password.invalid)&&(r.controls.password.dirty||r.controls.password.touched)),t.xp6(2),t.Q6J("ngIf",(null==r.controls.confirmPassword?null:r.controls.confirmPassword.value)!=(null==r.controls.password?null:r.controls.password.value)&&r.controls.confirmPassword.touched),t.xp6(1),t.Q6J("disabled",r.invalid),t.xp6(2),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",s.error)}},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.c5,i.On,i.F,m.O5,h.O]})}return o})()}];let rt=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(st),u.Bz]})}return o})();var it=d(6638),pt=d(2456);let at=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({providers:[g,it.a],imports:[i.u5,i.UX,rt,m.ez,c.JF,pt.p]})}return o})()}}]);